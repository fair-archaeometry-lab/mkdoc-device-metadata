# X-Ray Diffraction

The proposed metadata schema complies with the existing [XrdML](https://arxiv.org/abs/physics/0210067) data format for X-ray powder diffraction technique. The technical manual from [Panalytical](https://imf.ucmerced.edu/sites/g/files/ufvvjh1081/f/page/documents/x-ray_powder_diffraction.pdf) provides an overview of each term. 

## 1. X-ray Tube

*The component where X-rays are generated by bombarding a target of a suitable material with a focused electron beam*.


### 1.1 Anode Material

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** targetMaterial
    - **Definition:** The source of radiation.
    - **Data type:** string
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** controlled list `[Cu, Co, Fe, Mo, Cr, other]`
    - **Reference:**
    - **Comments:**
    - **Example:** Cu

### 1.2 Used Wavelength

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** radiationWavelength
    - **Definition:** The wavelength of radiation in Angstrom (Å).
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Reference:**
    - **Comments:**

#### 1.2.1 Kα1

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** kAlpha1
    - **Definition:** The wavelength of the Kα1 line in Angstrom (Å).
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 1.5405980

#### 1.2.2 Kα2

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** kAlpha2
    - **Definition:** The wavelength of the Kα2 line in Angstrom (Å).
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 1.5444260

#### 1.2.3 Kβ

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** kBeta
    - **Definition:** The wavelength of the Kβ line in Angstrom (Å).
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 1.3922500

### 1.3 Tube Voltage

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** tubeVoltage
    - **Definition:** Acceleration voltage of the X-ray tube (kV).
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 45

### 1.4 Tube Current

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** tubeCurrent
    - **Definition:** Electric current of the X-ray tube (mA)
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 40

### 1.5 Take-Off Angle

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** takeOffAngle
    - **Definition:** Anode take-off angle in degree (°)
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 6.0

## 2. Beam Path

*Beam path is the route the X-rays travel through the instrument. It consists of the incident beam path, from the X-ray source to the sample, and the diffracted beam path, from the sample to the detector after interaction with the sample.* 

### 2.1 Soller Slit

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** sollerSlit
    - **Definition:** This component is made of a set of thin, parallel metal plates and can be placed in the path of both incident and diffracted X-ray beams. Its function is to limit the axial divergence of the beams so that only those which are parallel or very close to the diffraction plane can pass the slit. 
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

#### 2.1.1 Beam Type

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** beamType
    - **Definition:** Select whether this component is placed in the path of the incident or the diffracted X-ray beam. 
    - **Data type:** string
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[incident, diffracted]`
    - **Reference:**
    - **Comments:**
    - **Example:** incident

#### 2.1.2 Opening of Soller Slit

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** sollerSlitOpening
    - **Definition:** The opening angle of a Soller slit is defined by the length and the distance of the plates, typically 0.04 rad (radian). 
    - **Data type:** string
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 0.04

### 2.2 Mask

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** mask
    - **Definition:** This componet limits the width of the incident beam to define the irradiated area on the sample or to prevent beam spill-over. Dimensions in millimeters (mm). 
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

#### 2.2.1 Mask Distance to Sample 

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** maskDistanceToSample
    - **Definition:** The distance between the mask and the sample in millimeters (mm). 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 120.00

#### 2.2.2 Mask Distance to Sample 

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** maskWidth
    - **Definition:** The physical width of the mask opening in in millimeters (mm).
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Reference:**
    - **Comments:**
    - **Example:** 6.60

### 2.3 Beta Filter

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** betaFilter
    - **Definition:** The belta filter is a thin metal foil usually placed in the diffracted beam path. It helps reduce the influence of sample fluorescence by suppressing the beta emission line. 
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

#### 2.3.1 Beta Filter Material

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** betaFiltermaterial
    - **Definition:** The material of the filter. 
    - **Data type:** string
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** controlled list `[Zr, Ni, Fe, V, other]`
    - **Reference:**
    - **Comments:**
    - **Example:** Ni

#### 2.3.2 Beta Filter Thickness

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** betaFilterThickness
    - **Definition:** The thickness of the filter in millimeters (mm). 
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:**
    - **Example:** 0.020

### 2.4 divergenceSlit

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** divergenceSlit
    - **Definition:** The divergence slit controls the width of the X-ray beam, defining how much of the sample surface is illuminated.
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

#### 2.4.1 Divergence Slit Type

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** divergenceSlitType
    - **Definition:** State whether the slit is fixed or variable (automatic).  
    - **Data type:** string
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[fixed, variable]`
    - **Comments:**
    - **Example:** fixed

#### 2.4.2 Divergence Slit Distance to Sample

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** divergenceSlitDistanceToSample
    - **Definition:** The distance between the slit and the sample in millimeters (mm). 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 140.00

#### 2.4.3 Irradiated Length

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** divergenceSlitIrradiatedLength
    - **Definition:** The length of the sample surface illuminated by the X-ray beam in millimeters (mm). 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 10.0

#### 2.4.4 Divergence Slit Size

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** divergenceSlitSize
    - **Definition:** The size of slit in degrees (°). 
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 1

### 2.5 Anti-Scatter Slit

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** antiScatterSlit
    - **Definition:** The anti-scatter slits make sure that only the reflected X-ray beam, and not scattered X-rays from the air, reach the detector.
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

#### 2.5.1 Anti-Scatter Slit Type

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** antiScatterSlitType
    - **Definition:** State whether the slit is fixed or variable (automatic).  
    - **Data type:** string
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[fixed, variable]`
    - **Comments:**
    - **Example:** fixed

#### 2.5.2 Observed Length

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** antiScatterObservedLength
    - **Definition:** The projected length of the slit opening at the sample or detector plane in millimeters (mm). 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 10.0

#### 2.5.3 Anti-Scatter Silt Size

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** antiScatterSiltSize
    - **Definition:** The size of slit in degrees (°). 
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 1

### 2.6 X-Ray Mirror

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** xRayMirror
    - **Definition:** This component enhances monochromaticity and collimation of the X-ray beam by reflecting X-rays under grazing incidence. Often used to remove fluorescence background from the sample. 
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**


### 2.7 Monochromator

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** monochromator
    - **Definition:** An optical device employed to isolate a specific wavelength or a narrow range of wavelengths from a broader spectrum of radiation. 
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Reference:**
    - **Comments:**

### 2.8 Receiving Slit

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** receivingSlit
    - **Definition:** A slit positioned in front of the X-ray detector that limits the angular divergence of the diffracted beam, controlling both the resolution of the diffraction peaks and the intensity of the detected signal. Measured in terms of its opening in millimeters (mm).  
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 0.05


## 3. Detector System

*A Detector system measures the intensity of X-rays diffracted by the sample at specific angles (2θ), converting the incoming X-ray photons into an electrical signal that can be recorded and analyzed.* 

### 3.1 Detector Name

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** detectorName
    - **Definition:** Name of the detector.   
    - **Data type:** string
    - **Obligation:** recommended
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** X'Celerator

### 3.2 Detector Type

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** detectorType
    - **Definition:** Type of the detector. This includes: (1) the point detector in which all incomming photons are counted, and their position on the active element is not relevant; (2) the line detector also known as position-sensitive detector in which photons are counted relative to their position on the detector window in 2θ direction; (3) the area detector similar to the line detector, but intensities are also detected perpendicular to 2θ axis.    
    - **Data type:** string
    - **Obligation:** recommended
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[point/OD, line/1D, area/2D]`
    - **Comments:** 
    - **Example:** line/1D

### 3.3 Active Length

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** activeLength
    - **Definition:** The angular range that is covered by a line detector in °2θ (theta). 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

### 3.4 Active Area

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** activeArea
    - **Definition:** It is only applicable for an area (2D) detector. The unit is in mm2. 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

## 4. Scan

*Parameters related to the diffraction pattern of a sample.* 

### 4.1 Step Size

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** stepSize
    - **Definition:** The increment in angle between successive data points in a scan. Measured in °2θ.
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

### 4.2 Start Position

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** startPosition
    - **Definition:** The initial angular position of the scan. Measured in °2θ. 
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

### 4.3 End Position

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** endPosition
    - **Definition:** The final angular position of the scan. Measured in °2θ. 
    - **Data type:** double
    - **Obligation:** mandatory
    - **Occurrences:** 1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

### 4.4 collectionTime

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** collectionTime
    - **Definition:** The duration for which data is collected at each step or angular position. 
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:**

### 4.5 Geometry

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** geometry
    - **Definition:** The configuration of the XRD setup, including the positioning of the X-ray source, sample, and detector. 
    - **Data type:** string
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[Bragg-Brentano, Parallel beam, Convergent beam, other]`
    - **Comments:** 
    - **Example:**

### 4.6 Sample Mode

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** sampleMode
    - **Definition:** The sample mode refers to the physical configuration and orientation of the sample relative to the incident X-ray beam and the detector. It is chosen based on the nature of the investigated sample. The reflection mode is suitable for samples that are opaque to X-rays. The transmission mode works best for low-absorbing materials, The capillary mode are ideal for the sample senstive to moisture or texture effects.
    - **Data type:** string
    - **Obligation:** recommended
    - **Occurrences:** 0–1
    - **Allowed values:** controlled list `[reflection, transmission, callipary, other]`
    - **Comments:** 
    - **Example:** reflection

### 4.7 Goniometer Rotation

URI: <https://w3id.org/my-schema#PreferredLabel>
!!! note
    - **Preferred label:** goniometerRotation
    - **Definition:** A goniometer functions as a high-tech sample holder that holds the crystal in the beam of X-rays and meanwhile rotates the sample to precise degrees. The rotation speed is measured in °2θ/s.
    - **Data type:** double
    - **Obligation:** optional
    - **Occurrences:** 0–1
    - **Allowed values:** free text
    - **Comments:** 
    - **Example:** 0.1